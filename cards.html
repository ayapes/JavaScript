<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        img {
            width: 100%;
            vertical-align: bottom;
        }

        #cards {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-wrap: wrap;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            justify-content: center;
            align-content: center;
            background: #CCC;
            overflow: hidden;
        }

        #board {
            width: 95%;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-content: space-around;
        }

        .item {
            position: relative;
            width: 7.5%;
            transition: 0.3s;
            padding-bottom: 0.5rem;
        }

        .item:hover {
            transform: scale(1.1);
        }

        .front {
            z-index: 10;
            transition: .7s;
            backface-visibility: hidden;
        }

        .back {
            position: absolute;
            top: 0;
            left: 0;
            transition: .7s;
            backface-visibility: hidden;
            transform: rotateY(-180deg);
        }

        .omote {
            transform: rotateY(180deg);
        }

        .ura {
            transform: rotateY(0);
        }
    </style>
</head>

<body>

    <div id="cards">
        <div><button id="restart">はじめから</button></div>
        <div id="board">
            <!-- カードの配置モデル -->
            <!-- <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"><img src="cards/card_club_01.png" alt=""></p>
            </div> -->
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
            <div class="item">
                <p class="front"><img src="cards/card_back.png" alt=""></p>
                <p class="back"></p>
            </div>
        </div>
    </div>
    <script>
        let count = 0;
        const restart = document.getElementById('restart');
        const item = document.querySelectorAll(".item");
        // const itemArray = Array.from(item);
        const front = document.querySelectorAll(".front");
        const back = document.querySelectorAll(".back");
        const checkArray = [...Array(52)].map((_, i) => i + 1);

        console.log(checkArray);

        function arrayShuffle(array) {
            for (var j = (array.length - 1); 0 < j; j--) {

                // 0〜(j+1)の範囲で値を取得
                var r = Math.floor(Math.random() * (j + 1));

                // 要素の並び替えを実行
                var tmp = array[j];
                array[j] = array[r];
                array[r] = tmp;
            }
            return array;

        };
        // はじめからボタンおしてやりなおし

        restart.addEventListener('click', function () {

            // arrayShuffle(checkArray);
            console.log('クリックされました！');
            //   console.log(arrayShuffle(checkArray));
            back.forEach(element => {
                element.classList.remove("ura");
            });
            // 「はじめから」を押したら裏返ってるカードも元通りになる。
            front.forEach(element => {
                element.classList.remove("omote");
            });

            // checkArrayの並びをランダムにします。
            const rand = arrayShuffle(checkArray);
            console.log(rand);

            const putCards = rand.forEach(value => {
                value * 5;
            });
            console.log(putCards(5));

        //             for (let k = 0; k < rand.length; k++) {
        //                 console.log(rand[k]);
        //                 // rand[k]の番号のカードを順番にいれていくそうさ
        //                 back.forEach(function(value) { 
        //     value.innerHTML = "<img src="+"rand[k]"+".png>";
        //     console.log(back);
        // });
        //     };

        }, false);

        const removeUra = function (element) {
            return element.classList.remove("ura");
            // console.log(removeUra(back););
        };




        console.log(arrayShuffle(checkArray));
        console.log(restart);

        for (let i = 0; i < item.length; i++) {
            item[i].addEventListener("click", function () {
                front[i].classList.add("omote");
                back[i].classList.add("ura");
                console.log(i + 1 + "番目のカードをクリックしました。");
                console.log("checkArrayは" + checkArray[i] + "番目です");
                count++;
                console.log(count);
                if (count > 1) {
                    count = 0;
                }
            });

        }

    </script>
</body>

</html>